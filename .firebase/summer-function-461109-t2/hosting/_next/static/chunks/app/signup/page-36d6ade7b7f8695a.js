(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{1285:(e,t,a)=>{"use strict";a.d(t,{B:()=>o});var r,s=a(2115),l=a(2712),i=(r||(r=a.t(s,2)))[" useId ".trim().toString()]||(()=>void 0),n=0;function o(e){let[t,a]=s.useState(i());return(0,l.N)(()=>{e||a(e=>e??String(n++))},[e]),e||(t?`radix-${t}`:"")}},2523:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var r=a(5155),s=a(2115),l=a(9434);let i=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},4315:(e,t,a)=>{"use strict";a.d(t,{jH:()=>l});var r=a(2115);a(5155);var s=r.createContext(void 0);function l(e){let t=r.useContext(s);return e||t||"ltr"}},5057:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var r=a(5155),s=a(2115),l=a(968),i=a(2085),n=a(9434);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.b,{ref:t,className:(0,n.cn)(o(),a),...s})});d.displayName=l.b.displayName},7481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>u});var r=a(2115);let s=0,l=new Map,i=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=n(d,e),o.forEach(e=>{e(d)})}function m(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},7759:(e,t,a)=>{"use strict";a.d(t,{C5:()=>j,MJ:()=>x,eI:()=>f,lR:()=>p,lV:()=>d,zB:()=>m});var r=a(5155),s=a(2115),l=a(9708),i=a(2177),n=a(9434),o=a(5057);let d=i.Op,c=s.createContext({}),m=e=>{let{...t}=e;return(0,r.jsx)(c.Provider,{value:{name:t.name},children:(0,r.jsx)(i.xI,{...t})})},u=()=>{let e=s.useContext(c),t=s.useContext(h),{getFieldState:a,formState:r}=(0,i.xW)(),l=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...l}},h=s.createContext({}),f=s.forwardRef((e,t)=>{let{className:a,...l}=e,i=s.useId();return(0,r.jsx)(h.Provider,{value:{id:i},children:(0,r.jsx)("div",{ref:t,className:(0,n.cn)("space-y-2",a),...l})})});f.displayName="FormItem";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e,{error:l,formItemId:i}=u();return(0,r.jsx)(o.J,{ref:t,className:(0,n.cn)(l&&"text-destructive",a),htmlFor:i,...s})});p.displayName="FormLabel";let x=s.forwardRef((e,t)=>{let{...a}=e,{error:s,formItemId:i,formDescriptionId:n,formMessageId:o}=u();return(0,r.jsx)(l.DX,{ref:t,id:i,"aria-describedby":s?"".concat(n," ").concat(o):"".concat(n),"aria-invalid":!!s,...a})});x.displayName="FormControl",s.forwardRef((e,t)=>{let{className:a,...s}=e,{formDescriptionId:l}=u();return(0,r.jsx)("p",{ref:t,id:l,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})}).displayName="FormDescription";let j=s.forwardRef((e,t)=>{var a;let{className:s,children:l,...i}=e,{error:o,formMessageId:d}=u(),c=o?String(null!=(a=null==o?void 0:o.message)?a:""):l;return c?(0,r.jsx)("p",{ref:t,id:d,className:(0,n.cn)("text-sm font-medium text-destructive",s),...i,children:c}):null});j.displayName="FormMessage"},9349:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var r=a(5155),s=a(6874),l=a.n(s),i=a(221),n=a(2177),o=a(1153),d=a(285),c=a(6695),m=a(7759),u=a(2523),h=a(9409),f=a(283),p=a(5695),x=a(9637),j=a(1554),w=a(7481),g=a(6104),b=a(2115),y=a(6766);let N=[{value:"USD",label:"USD - United States Dollar"},{value:"EUR",label:"EUR - Euro"},{value:"GBP",label:"GBP - British Pound Sterling"},{value:"INR",label:"INR - Indian Rupee"},{value:"BDT",label:"BDT - Bangladeshi Taka"}],v=o.Ik({name:o.Yj().min(2,{message:"Name must be at least 2 characters"}),emailOrPhone:o.Yj().email({message:"Please enter a valid email address"}),password:o.Yj().min(6,{message:"Password must be at least 6 characters"}),confirmPassword:o.Yj().min(6,{message:"Please confirm your password"}),currency:o.Yj().min(1,{message:"Please select a currency"}),country:o.Yj().min(1,{message:"Please select a country"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function S(){let{login:e,user:t,loadingAuth:a}=(0,f.A)(),s=(0,p.useRouter)(),{toast:o}=(0,w.dj)(),[S,C]=(0,b.useState)("email"),[I,P]=(0,b.useState)([]),[R,T]=(0,b.useState)(!0),E=(0,n.mN)({resolver:(0,i.u)(v),defaultValues:{name:"",emailOrPhone:"",password:"",confirmPassword:"",currency:"",country:""}});async function A(t){E.clearErrors(),E.setValue("emailOrPhone",t.emailOrPhone.trim());try{let a=(await (0,g.eJ)(g.j2,t.emailOrPhone,t.password)).user;await (0,g.gA)(a);let r=Math.floor(1e8+9e8*Math.random());o({title:"Signup Successful!",description:"Your new User ID is ".concat(r,". A verification email has been sent. Please verify your account before logging in."),duration:1e4});let l={id:a.uid,name:t.name,email:a.email,currency:t.currency,country:t.country,emailVerified:a.emailVerified,customUserId:r};await e(l,!0),s.push("/login")}catch(t){console.error("Signup error on page:",t);let e="Could not create your account. Please try again.";"auth/email-already-in-use"===t.code?(e="This email address is already in use. Please try another one or login.",E.setError("emailOrPhone",{type:"manual",message:e})):"auth/weak-password"===t.code?(e="The password is too weak. Please choose a stronger password.",E.setError("password",{type:"manual",message:e})):t.message&&(e=t.message),o({title:"Signup Failed",description:e,variant:"destructive"})}}if((0,b.useEffect)(()=>{!async function(){T(!0);try{let e=await fetch("/api/core/continents");if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to fetch countries")}let t=(await e.json()).data.flatMap(e=>e.countries.data).sort((e,t)=>e.name.localeCompare(t.name));P(t)}catch(e){console.error("Error fetching countries:",e),o({title:"Could not load countries",description:"There was an error fetching the list of countries. Please try again later.",variant:"destructive"})}finally{T(!1)}}()},[o]),(0,b.useEffect)(()=>{!a&&t&&t.emailVerified&&s.push("/")},[t,a,s]),a||t&&t.emailVerified)return null;let O=e=>{let{method:t,icon:a,label:s}=e;return(0,r.jsxs)(d.$,{type:"button",variant:S===t?"default":"outline",onClick:()=>C(t),className:"flex-1 py-3 ".concat(S===t?"bg-primary/80 text-white":"bg-white/10 border-white/20 text-white hover:bg-white/20"),disabled:"email"!==t,children:[(0,r.jsx)(a,{className:"mr-2 h-5 w-5"}),s]})};return(0,r.jsxs)("div",{className:"relative flex min-h-screen flex-col items-center justify-center p-4",children:[(0,r.jsx)(y.default,{src:"/__media__/942c75a0-0b61-4177-8c76-5a415a770020.png",alt:"Signup background with sports figures",layout:"fill",objectFit:"cover",className:"z-0","data-ai-hint":"sports collage"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/70 via-black/60 to-purple-900/70 z-10"}),(0,r.jsx)("div",{className:"relative z-20 w-full max-w-lg",children:(0,r.jsxs)(c.Zp,{className:"bg-card/10 backdrop-blur-lg border-white/20 text-white shadow-2xl rounded-lg",children:[(0,r.jsxs)(c.aR,{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("h1",{className:"text-3xl font-headline font-black italic tracking-tighter",children:[(0,r.jsx)("span",{className:"text-white",children:"Bet"}),(0,r.jsx)("span",{className:"text-primary",children:"Nexo"})]}),(0,r.jsxs)("div",{className:"space-x-2",children:[(0,r.jsx)(d.$,{variant:"ghost",asChild:!0,className:"px-3 py-2 rounded-md text-white/70 hover:text-white hover:bg-white/10",children:(0,r.jsx)(l(),{href:"/login",children:"Log in"})}),(0,r.jsx)(d.$,{variant:"ghost",className:"text-white font-semibold px-3 py-2 rounded-md bg-white/20",children:"Registration"})]})]}),(0,r.jsx)(c.ZB,{className:"text-lg text-center text-white/90 pt-4",children:"REGISTRATION"})]}),(0,r.jsxs)(c.Wu,{className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(O,{method:"email",icon:x.A,label:"By email"}),(0,r.jsx)(O,{method:"phone",icon:j.A,label:"By phone"})]}),"email"===S&&(0,r.jsx)(m.lV,{...E,children:(0,r.jsxs)("form",{onSubmit:E.handleSubmit(A),className:"space-y-3",children:[(0,r.jsx)(m.zB,{control:E.control,name:"name",render:e=>{let{field:t}=e;return(0,r.jsxs)(m.eI,{children:[(0,r.jsx)(m.lR,{className:"text-white/80",children:"Full Name*"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(u.p,{placeholder:"John Doe",...t,className:"bg-white/5 border-white/20 focus:border-primary text-white placeholder:text-slate-300"})}),(0,r.jsx)(m.C5,{})]})}}),(0,r.jsx)(m.zB,{control:E.control,name:"emailOrPhone",render:e=>{let{field:t}=e;return(0,r.jsxs)(m.eI,{children:[(0,r.jsx)(m.lR,{className:"text-white/80",children:"Email*"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(u.p,{type:"email",placeholder:"your@email.com",...t,className:"bg-white/5 border-white/20 focus:border-primary text-white placeholder:text-slate-300"})}),(0,r.jsx)(m.C5,{})]})}}),(0,r.jsx)(m.zB,{control:E.control,name:"password",render:e=>{let{field:t}=e;return(0,r.jsxs)(m.eI,{children:[(0,r.jsx)(m.lR,{className:"text-white/80",children:"Password*"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(u.p,{type:"password",placeholder:"••••••••",...t,className:"bg-white/5 border-white/20 focus:border-primary text-white placeholder:text-slate-300"})}),(0,r.jsx)(m.C5,{})]})}}),(0,r.jsx)(m.zB,{control:E.control,name:"confirmPassword",render:e=>{let{field:t}=e;return(0,r.jsxs)(m.eI,{children:[(0,r.jsx)(m.lR,{className:"text-white/80",children:"Confirm Password*"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(u.p,{type:"password",placeholder:"••••••••",...t,className:"bg-white/5 border-white/20 focus:border-primary text-white placeholder:text-slate-300"})}),(0,r.jsx)(m.C5,{})]})}}),(0,r.jsx)(m.zB,{control:E.control,name:"country",render:e=>{let{field:t}=e;return(0,r.jsxs)(m.eI,{children:[(0,r.jsx)(m.lR,{className:"text-white/80",children:"Country*"}),(0,r.jsxs)(h.l6,{onValueChange:t.onChange,defaultValue:t.value,disabled:R,children:[(0,r.jsx)(m.MJ,{children:(0,r.jsx)(h.bq,{className:"bg-white/5 border-white/20 focus:border-primary text-white",children:(0,r.jsx)(h.yv,{placeholder:R?"Loading countries...":"Select your country"})})}),(0,r.jsx)(h.gC,{children:I.length>0?I.map(e=>(0,r.jsx)(h.eb,{value:e.name,children:e.name},e.id)):!R&&(0,r.jsx)(h.eb,{value:"none",disabled:!0,children:"No countries found"})})]}),(0,r.jsx)(m.C5,{})]})}}),(0,r.jsx)(m.zB,{control:E.control,name:"currency",render:e=>{let{field:t}=e;return(0,r.jsxs)(m.eI,{children:[(0,r.jsx)(m.lR,{className:"text-white/80",children:"Preferred Currency*"}),(0,r.jsxs)(h.l6,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,r.jsx)(m.MJ,{children:(0,r.jsx)(h.bq,{className:"bg-white/5 border-white/20 focus:border-primary text-white",children:(0,r.jsx)(h.yv,{placeholder:"Select your currency"})})}),(0,r.jsx)(h.gC,{children:N.map(e=>(0,r.jsx)(h.eb,{value:e.value,children:e.label},e.value))})]}),(0,r.jsx)(m.C5,{})]})}}),(0,r.jsx)(d.$,{type:"submit",className:"w-full font-semibold bg-primary/80 hover:bg-primary py-3 text-base",disabled:E.formState.isSubmitting,children:E.formState.isSubmitting?"CREATING ACCOUNT...":"REGISTER"})]})}),"email"!==S&&(0,r.jsx)("div",{className:"text-center p-8 text-white/70",children:(0,r.jsxs)("p",{children:[S.charAt(0).toUpperCase()+S.slice(1)," registration method is coming soon."]})}),(0,r.jsxs)("div",{className:"mt-4 text-center text-sm text-white/80",children:["Already have an account?"," ",(0,r.jsx)(d.$,{variant:"link",className:"p-0 text-primary h-auto font-semibold",asChild:!0,children:(0,r.jsx)(l(),{href:"/login",children:"Login"})})]})]})]})})]})}},9409:(e,t,a)=>{"use strict";a.d(t,{bq:()=>u,eb:()=>x,gC:()=>p,l6:()=>c,yv:()=>m});var r=a(5155),s=a(2115),l=a(1992),i=a(9556),n=a(7381),o=a(518),d=a(9434);let c=l.bL;l.YJ;let m=l.WT,u=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(l.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[s,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.l9.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=l.PP.displayName;let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=l.wn.displayName;let p=s.forwardRef((e,t)=>{let{className:a,children:s,position:i="popper",...n}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...n,children:[(0,r.jsx)(h,{}),(0,r.jsx)(l.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(f,{})]})})});p.displayName=l.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=l.JU.displayName;let x=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(l.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:s})]})});x.displayName=l.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=l.wv.displayName},9704:(e,t,a)=>{Promise.resolve().then(a.bind(a,9349))}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,3644,3139,6874,6766,8178,2356,5781,53,8441,1684,7358],()=>t(9704)),_N_E=e.O()}]);