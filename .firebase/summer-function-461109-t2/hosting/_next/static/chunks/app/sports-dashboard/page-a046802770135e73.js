(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3489],{172:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(157).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},707:(e,s,t)=>{"use strict";t.d(s,{default:()=>h});var a=t(5155),l=t(6874),i=t.n(l),r=t(285),d=t(283),c=t(5695),n=t(4301),o=t(5074);function m(){let{user:e,balance:s,currency:t,logout:l,loadingAuth:m}=(0,d.A)();return(0,c.useRouter)(),(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,a.jsxs)("div",{className:"container flex h-16 items-center justify-between gap-4",children:[(0,a.jsx)("div",{className:"flex items-center",children:m?(0,a.jsx)("div",{className:"h-9 w-24 animate-pulse rounded-md bg-muted"}):e&&"Admin"!==e.role?(0,a.jsx)(r.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsxs)(i(),{href:"/wallet",className:"flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"h-5 w-5 text-primary"}),(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[(0,a.jsx)("span",{className:"text-xs font-semibold text-foreground",children:s.toFixed(2)}),(0,a.jsx)("span",{className:"text-[10px] text-muted-foreground -mt-1",children:t})]})]})}):(e&&e.role,(0,a.jsx)("div",{className:"w-24"}))}),(0,a.jsx)("div",{className:"flex-grow text-center",children:(0,a.jsxs)(i(),{href:"/",className:"text-4xl font-headline font-black italic tracking-tighter",children:[(0,a.jsx)("span",{className:"text-white",children:"Bet"}),(0,a.jsx)("span",{className:"text-primary",children:"Nexo"})]})}),(0,a.jsx)("div",{className:"flex items-center justify-end",children:e?(0,a.jsx)(r.$,{variant:"ghost",size:"icon",children:(0,a.jsx)(o.A,{className:"h-6 w-6 text-muted-foreground"})}):(0,a.jsx)("div",{className:"w-10"})})]})})}function h(e){let{children:s}=e;return(0,a.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,a.jsx)(m,{}),(0,a.jsx)("main",{className:"flex-grow",children:s})]})}},1898:(e,s,t)=>{Promise.resolve().then(t.bind(t,9922))},1920:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(157).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},1949:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(157).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3790:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(157).A)("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])},4301:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(157).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},5074:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(157).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7381:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(157).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},7481:(e,s,t)=>{"use strict";t.d(s,{dj:()=>h});var a=t(2115);let l=0,i=new Map,r=e=>{if(i.has(e))return;let s=setTimeout(()=>{i.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,s)},d=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?r(t):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},c=[],n={toasts:[]};function o(e){n=d(n,e),c.forEach(e=>{e(n)})}function m(e){let{...s}=e,t=(l=(l+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>o({type:"DISMISS_TOAST",toastId:t});return o({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function h(){let[e,s]=a.useState(n);return a.useEffect(()=>(c.push(s),()=>{let e=c.indexOf(s);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},8856:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var a=t(5155),l=t(9434);function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",s),...t})}},9529:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(157).A)("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]])},9556:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(157).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},9922:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var a=t(5155),l=t(2115),i=t(707),r=t(285),d=t(6695),c=t(172),n=t(1949),o=t(157);let m=(0,o.A)("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);var h=t(3790),u=t(7381),x=t(9556),p=t(9529),f=t(1920);let j=(0,o.A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var g=t(283),y=t(5695),v=t(7481),N=t(8856);function w(){let[e,s]=(0,l.useState)("live"),[t,o]=(0,l.useState)([]),[w,k]=(0,l.useState)([]),[A,b]=(0,l.useState)({}),[S,E]=(0,l.useState)(!0),[M,T]=(0,l.useState)(null),[C,O]=(0,l.useState)(""),[_,D]=(0,l.useState)(null),[I,F]=(0,l.useState)(new Set),{user:q,loadingAuth:R}=(0,g.A)(),V=(0,y.useRouter)(),{toast:z}=(0,v.dj)();(0,l.useEffect)(()=>{R||q||V.push("/login")},[q,R,V]);let L=(0,l.useCallback)(async e=>{E(!0),T(null),o([]),"leagues"===e&&k([]);try{let s="";if("live"===e?s="/api/live-matches":"upcoming"===e?s="/api/upcoming-matches":"leagues"===e&&(s="/api/leagues"),!s)return void E(!1);let t=await fetch(s);if(!t.ok){let s=await t.json();throw Error(s.error||"Failed to fetch ".concat(e," data"))}let a=await t.json();"leagues"===e?k(a):o(a)}catch(e){T(e.message),z({title:"Error",description:e.message,variant:"destructive"})}finally{E(!1)}},[z]);(0,l.useEffect)(()=>{q&&("live"===e||"upcoming"===e||"leagues"===e)&&L(e)},[e,q,L]);let $=async e=>{E(!0),T(null),o([]),s("league-fixtures"),O(e.name);try{let s=await fetch("/api/fixtures-by-league?league_id=".concat(e.id));if(!s.ok)throw Error("Failed to fetch league fixtures");let t=await s.json();o(t)}catch(e){T(e.message),z({title:"Error",description:e.message,variant:"destructive"})}finally{E(!1)}},H=async e=>{if(_===e)return void D(null);if(D(e),!A[e]){F(s=>new Set(s.add(e)));try{let s=await fetch("/api/odds/".concat(e));if(!s.ok)throw Error("Failed to fetch odds");let t=await s.json();b(s=>({...s,[e]:t}))}catch(s){z({title:"Odds Error",description:s.message,variant:"destructive"}),b(s=>({...s,[e]:[{marketName:"Error fetching odds",oddValue:"N/A"}]}))}finally{F(s=>{let t=new Set(s);return t.delete(e),t})}}};return R&&!q?(0,a.jsx)(i.default,{children:(0,a.jsxs)("div",{className:"container py-6 space-y-4",children:[(0,a.jsx)(N.E,{className:"h-10 w-full"}),(0,a.jsx)(N.E,{className:"h-64 w-full"})]})}):(0,a.jsx)(i.default,{children:(0,a.jsx)("div",{className:"container py-6",children:(0,a.jsxs)(d.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{className:"font-headline text-3xl",children:"league-fixtures"===e?C:"live"===e?"Live Matches":"upcoming"===e?"Upcoming Matches":"leagues"===e?"All Leagues":"Sports Dashboard"}),(0,a.jsx)(d.BT,{children:"View live matches, upcoming fixtures, and browse all leagues."})]}),(0,a.jsxs)(d.Wu,{children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4 border-b pb-4",children:[(0,a.jsxs)(r.$,{onClick:()=>s("live"),variant:"live"===e?"default":"outline",children:[(0,a.jsx)(p.A,{}),"Live"]}),(0,a.jsxs)(r.$,{onClick:()=>s("upcoming"),variant:"upcoming"===e?"default":"outline",children:[(0,a.jsx)(f.A,{}),"Upcoming"]}),(0,a.jsxs)(r.$,{onClick:()=>s("leagues"),variant:"leagues"===e?"default":"outline",children:[(0,a.jsx)(j,{}),"All Leagues"]})]}),(0,a.jsx)("div",{children:S?(0,a.jsx)("div",{className:"flex justify-center items-center p-10",children:(0,a.jsx)(c.A,{className:"h-8 w-8 animate-spin"})}):M?(0,a.jsxs)("div",{className:"text-center text-destructive p-10 bg-destructive/10 rounded-lg",children:[(0,a.jsx)(n.A,{className:"mx-auto h-8 w-8 mb-2"}),M]}):"leagues"===e?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:w.length>0?w.map(e=>(0,a.jsxs)(r.$,{variant:"outline",className:"justify-between h-auto py-3 text-left",onClick:()=>$(e),children:[(0,a.jsx)("span",{className:"flex-1",children:e.name}),(0,a.jsx)(m,{className:"h-4 w-4 ml-2"})]},e.id)):(0,a.jsxs)("div",{className:"text-center text-muted-foreground p-10 col-span-full",children:[(0,a.jsx)(h.A,{className:"mx-auto h-8 w-8 mb-2"}),"No leagues found."]})}):0===t.length?(0,a.jsxs)("div",{className:"text-center text-muted-foreground p-10",children:[(0,a.jsx)(h.A,{className:"mx-auto h-8 w-8 mb-2"}),"No matches found for this view."]}):(0,a.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,a.jsx)(d.Zp,{className:"bg-card",children:(0,a.jsxs)(d.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-semibold",children:[e.home_team," vs ",e.away_team]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[new Date(e.date).toLocaleDateString()," - ",e.time]})]}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>H(e.id),className:"w-28",children:I.has(e.id)?(0,a.jsx)(c.A,{className:"h-4 w-4 animate-spin"}):_===e.id?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-1"})," Hide Odds"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-1"})," Show Odds"]})})]}),_===e.id&&(0,a.jsx)("div",{className:"mt-4 pt-4 border-t",children:A[e.id]?A[e.id].length>0&&"Error fetching odds"!==A[e.id][0].marketName?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h4",{className:"font-semibold mb-2 text-primary",children:"Available Odds"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm",children:A[e.id].map(e=>(0,a.jsxs)("div",{className:"flex justify-between p-2 bg-muted rounded",children:[(0,a.jsx)("span",{children:e.marketName}),(0,a.jsx)("span",{className:"font-bold",children:e.oddValue})]},e.marketName))})]}):(0,a.jsx)("p",{className:"text-sm text-center text-muted-foreground",children:"No odds available for this match."}):(0,a.jsxs)("div",{className:"flex items-center justify-center p-4",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 animate-spin"}),(0,a.jsx)("span",{className:"ml-2",children:"Loading Odds..."})]})})]})},e.id))})})]})]})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,3644,3139,6874,53,8441,1684,7358],()=>s(1898)),_N_E=e.O()}]);