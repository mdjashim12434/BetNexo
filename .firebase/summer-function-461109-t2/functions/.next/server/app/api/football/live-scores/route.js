(()=>{var e={};e.id=4702,e.ids=[4702],e.modules={2584:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>g,routeModule:()=>c,serverHooks:()=>f,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{GET:()=>u});var o=r(96559),a=r(48088),n=r(37719),i=r(32190);let l=process.env.SPORTMONKS_API_KEY;async function u(e){if(!l)return console.warn("SPORTMONKS_API_KEY is not set. Returning empty data for live scores. Please set the API key in your .env file."),i.NextResponse.json({data:[]});let{searchParams:t}=new URL(e.url),r=t.get("leagueId"),s="true"===t.get("firstPageOnly"),o=`https://api.sportmonks.com/v3/football/livescores?api_token=${l}&include=participants;scores;league.country;state;periods&tz=UTC`;r&&(o+=`&leagues=${r}`);try{if(s){let e=`${o}&page=1`,t=await fetch(e,{cache:"no-store"});if(!t.ok){let e=await t.json().catch(()=>({}));console.error("Error fetching first page of live football fixtures:",t.status,e);let r=e.message||`Failed to fetch data. Status: ${t.status}`;return i.NextResponse.json({error:r},{status:t.status})}let r=await t.json();return i.NextResponse.json(r)}let e=[],t=1,r=!0;for(;r;){let s=`${o}&page=${t}`,a=await fetch(s,{cache:"no-store"});if(!a.ok){let e=await a.json().catch(()=>({}));console.error("Error from Sportmonks Football Live API:",a.status,e);let t=`Failed to fetch live football scores. Status: ${a.status}`;return 403===a.status||e.message&&e.message.includes("plan")?t="Forbidden: Your current API plan does not allow access to this data.":e.message&&(t+=` - Message: ${e.message}`),i.NextResponse.json({error:t},{status:a.status})}let n=await a.json();n.data&&n.data.length>0&&(e=e.concat(n.data)),n.pagination&&n.pagination.has_more?t++:r=!1}return i.NextResponse.json({data:e})}catch(e){return console.error("Error fetching from Sportmonks Football Live API via proxy:",e),i.NextResponse.json({error:"An internal server error occurred."},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/football/live-scores/route",pathname:"/api/football/live-scores",filename:"route",bundlePath:"app/api/football/live-scores/route"},resolvedPagePath:"/home/user/studio/src/app/api/football/live-scores/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:p,workUnitAsyncStorage:d,serverHooks:f}=c;function g(){return(0,n.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:d})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,580],()=>r(2584));module.exports=s})();