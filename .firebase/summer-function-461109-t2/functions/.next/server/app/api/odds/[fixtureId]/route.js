(()=>{var e={};e.id=1907,e.ids=[1907],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},41259:(e,t,a)=>{"use strict";a.r(t),a.d(t,{patchFetch:()=>h,routeModule:()=>l,serverHooks:()=>p,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>m});var r={};a.r(r),a.d(r,{GET:()=>u});var s=a(96559),o=a(48088),i=a(37719),n=a(32190),d=a(55130);async function u(e,{params:t}){let{fixtureId:a}=t;if(!a)return n.NextResponse.json({error:"Fixture ID is required."},{status:400});try{let e=await (0,d._B)(Number(a)),t=[];return e.odds.home&&t.push({marketName:`Win: ${e.homeTeam.name}`,oddValue:e.odds.home.toFixed(2)}),e.odds.draw&&t.push({marketName:"Draw",oddValue:e.odds.draw.toFixed(2)}),e.odds.away&&t.push({marketName:`Win: ${e.awayTeam.name}`,oddValue:e.odds.away.toFixed(2)}),e.odds.overUnder?.point&&(t.push({marketName:`Over ${e.odds.overUnder.point}`,oddValue:e.odds.overUnder.over?.toFixed(2)||"N/A"}),t.push({marketName:`Under ${e.odds.overUnder.point}`,oddValue:e.odds.overUnder.under?.toFixed(2)||"N/A"})),e.odds.btts&&(t.push({marketName:"Both Teams to Score: Yes",oddValue:e.odds.btts.yes?.toFixed(2)||"N/A"}),t.push({marketName:"Both Teams to Score: No",oddValue:e.odds.btts.no?.toFixed(2)||"N/A"})),n.NextResponse.json(t)}catch(e){return n.NextResponse.json({error:"Failed to fetch odds",details:e.message},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/odds/[fixtureId]/route",pathname:"/api/odds/[fixtureId]",filename:"route",bundlePath:"app/api/odds/[fixtureId]/route"},resolvedPagePath:"/home/user/studio/src/app/api/odds/[fixtureId]/route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:c,workUnitAsyncStorage:m,serverHooks:p}=l;function h(){return(0,i.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:m})}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55130:(e,t,a)=>{"use strict";a.d(t,{_B:()=>c,eF:()=>l,mZ:()=>u});let r=["LIVE","HT","ET","PEN_LIVE","BREAK","INT"],s=["FT","AET","Finished","POSTP","CANCL","ABAN","SUSP","AWARDED","DELETED","WO","AU"],o=process.env.API_BASE_URL||"http://localhost:9002",i=async e=>{let t;if(e.ok)return e.json();let a=await e.json().catch(()=>({})),r=a.error||a.message||"The API did not provide a specific error message.";switch(e.status){case 401:t="Authentication Failed: The API key is likely invalid or missing.";break;case 403:t="Forbidden: Your current API plan does not allow access to this data.";break;case 404:t="Not Found: The requested match or endpoint could not be found.";break;case 422:t="Unprocessable Content: The API request had invalid parameters (e.g., bad date format).";break;case 400:t="Bad Request: The API request was malformed. Check parameters.";break;case 429:t="Too Many Requests: The hourly API limit has been reached.";break;default:t=`An unexpected API error occurred. Status: ${e.status}, Message: ${r}`}throw console.error(`API Error (Status ${e.status}): ${t}`),Error(t)},n=e=>{if(!e)return new Date().toISOString();let t=new Date(e.replace(" ","T")+"Z");return isNaN(t.getTime())?new Date().toISOString():t.toISOString()},d=e=>Array.isArray(e)?e.map(e=>{let t=e.participants?.find(e=>"home"===e.meta.location),a=e.participants?.find(e=>"away"===e.meta.location),o=e.state||{id:0,state:"NS",name:"Not Started",short_name:"NS",developer_name:"NOT_STARTED"},i=r.includes(o.state),d=s.includes(o.state),u=e.comments?.map(e=>({...e})).sort((e,t)=>t.minute-e.minute)||[],l=e.scores?.find(e=>e.participant_id===t?.id&&"CURRENT"===e.description)?.score.goals||0,c=e.scores?.find(e=>e.participant_id===a?.id&&"CURRENT"===e.description)?.score.goals||0,m=e.periods?.find(e=>e.ticking)?.minutes;return{id:e.id,sportKey:"football",name:e.name,startingAt:n(e.starting_at),state:o,isLive:i,isFinished:d,league:{id:e.league_id,name:e.league?.name||"N/A",countryName:e.league?.country?.name||"N/A"},homeTeam:{id:t?.id||0,name:t?.name||"Home",image_path:t?.image_path},awayTeam:{id:a?.id||0,name:a?.name||"Away",image_path:a?.image_path},odds:{},comments:u,venue:e.venue?{name:e.venue.name,city:e.venue.city_name||e.venue.city||""}:void 0,referee:e.referee?{name:e.referee.fullname}:void 0,homeScore:l,awayScore:c,minute:m,latestEvent:((e,t)=>{let a=t&&t.length>0?t[0]:null;if(a)return{text:`${a.minute}' - ${a.comment}`,isGoal:a.is_goal};let r=e&&e.length>0?[...e].sort((e,t)=>t.minute-e.minute)[0]:null;return r?{text:`${r.minute}' - ${r.type?.name||"Event"}`,isGoal:r.type?.code==="GOAL"}:i&&"Live"!==o.name?{text:o.name,isGoal:!1}:void 0})(e.events,u)}}):[];async function u(e,t=!1){let a=e?`/api/football/live-scores?leagueId=${e}`:"/api/football/live-scores";t&&(a+=a.includes("?")?"&firstPageOnly=true":"?firstPageOnly=true");let r=`${o}${a}`,s=await fetch(r,{cache:"no-store"}),n=await i(s);return d(n?.data||[]).filter(e=>!e.isFinished)}async function l(e,t=!1){let a=e?`/api/football/upcoming-fixtures?leagueId=${e}`:"/api/football/upcoming-fixtures";t&&(a+=a.includes("?")?"&firstPageOnly=true":"?firstPageOnly=true");let r=`${o}${a}`,s=await fetch(r,{cache:"no-store"}),n=await i(s),u=d(n?.data||[]),c=new Date;return u.filter(e=>new Date(e.startingAt)>c&&!e.isFinished)}async function c(e){let t=`${o}/api/football/fixtures?fixtureId=${e}`,a=await fetch(t,{cache:"no-store"}),r=d([(await i(a)).data]);if(!r||0===r.length)throw Error(`Could not process fixture details for ID ${e}.`);return r[0]}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[4447,580],()=>a(41259));module.exports=r})();