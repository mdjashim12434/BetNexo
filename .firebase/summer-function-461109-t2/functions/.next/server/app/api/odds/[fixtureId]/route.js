(()=>{var e={};e.id=1907,e.ids=[1907],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},41259:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>x,routeModule:()=>m,serverHooks:()=>c,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>l});var a={};r.r(a),r.d(a,{GET:()=>u});var s=r(96559),o=r(48088),i=r(37719),n=r(32190),d=r(55130);async function u(e,{params:t}){let{fixtureId:r}=t;if(!r)return n.NextResponse.json({error:"Fixture ID is required."},{status:400});try{let e=await (0,d.fetchFixtureDetails)(Number(r)),t=[];return e.odds.home&&t.push({marketName:`Win: ${e.homeTeam.name}`,oddValue:e.odds.home.toFixed(2)}),e.odds.draw&&t.push({marketName:"Draw",oddValue:e.odds.draw.toFixed(2)}),e.odds.away&&t.push({marketName:`Win: ${e.awayTeam.name}`,oddValue:e.odds.away.toFixed(2)}),e.odds.overUnder?.point&&(t.push({marketName:`Over ${e.odds.overUnder.point}`,oddValue:e.odds.overUnder.over?.toFixed(2)||"N/A"}),t.push({marketName:`Under ${e.odds.overUnder.point}`,oddValue:e.odds.overUnder.under?.toFixed(2)||"N/A"})),e.odds.btts&&(t.push({marketName:"Both Teams to Score: Yes",oddValue:e.odds.btts.yes?.toFixed(2)||"N/A"}),t.push({marketName:"Both Teams to Score: No",oddValue:e.odds.btts.no?.toFixed(2)||"N/A"})),n.NextResponse.json(t)}catch(e){return n.NextResponse.json({error:"Failed to fetch odds",details:e.message},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/odds/[fixtureId]/route",pathname:"/api/odds/[fixtureId]",filename:"route",bundlePath:"app/api/odds/[fixtureId]/route"},resolvedPagePath:"/home/user/studio/src/app/api/odds/[fixtureId]/route.ts",nextConfigOutput:"",userland:a}),{workAsyncStorage:p,workUnitAsyncStorage:l,serverHooks:c}=m;function x(){return(0,i.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:l})}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55130:(e,t,r)=>{"use strict";r.d(t,{m:()=>i});let a=["LIVE","HT","ET","PEN_LIVE","BREAK","INT"],s=["FT","AET","Finished","AWARDED","WO"],o=e=>{if(!e)return new Date().toISOString();let t=new Date(e.replace(" ","T")+"Z");return isNaN(t.getTime())?new Date().toISOString():t.toISOString()},i=e=>Array.isArray(e)?e.map(e=>{let t=e.participants?.find(e=>"home"===e.meta.location),r=e.participants?.find(e=>"away"===e.meta.location),i=e.state||{id:0,state:"NS",name:"Not Started",short_name:"NS",developer_name:"NOT_STARTED"},n=a.includes(i.state),d=s.includes(i.state),u=e.comments?.map(e=>({...e})).sort((e,t)=>t.minute-e.minute)||[],m=e.scores?.find(e=>e.participant_id===t?.id&&"CURRENT"===e.description)?.score.goals||0,p=e.scores?.find(e=>e.participant_id===r?.id&&"CURRENT"===e.description)?.score.goals||0,l=e.periods?.find(e=>e.ticking)?.minutes;return{id:e.id,sportKey:"football",name:e.name,startingAt:o(e.starting_at),state:i,isLive:n,isFinished:d,league:{id:e.league_id,name:e.league?.name||"N/A",countryName:e.league?.country?.name||"N/A"},homeTeam:{id:t?.id||0,name:t?.name||"Home",image_path:t?.image_path},awayTeam:{id:r?.id||0,name:r?.name||"Away",image_path:r?.image_path},odds:{},comments:u,venue:e.venue?{name:e.venue.name,city:e.venue.city_name||e.venue.city||""}:void 0,referee:e.referee?{name:e.referee.fullname}:void 0,homeScore:m,awayScore:p,minute:l,latestEvent:((e,t)=>{let r=t&&t.length>0?t[0]:null;if(r)return{text:`${r.minute}' - ${r.comment}`,isGoal:r.is_goal};let a=e&&e.length>0?[...e].sort((e,t)=>t.minute-e.minute)[0]:null;return a?{text:`${a.minute}' - ${a.type?.name||"Event"}`,isGoal:a.type?.code==="GOAL"}:n&&"Live"!==i.name?{text:i.name,isGoal:!1}:void 0})(e.events,u)}}):[]},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[4447,580],()=>r(41259));module.exports=a})();