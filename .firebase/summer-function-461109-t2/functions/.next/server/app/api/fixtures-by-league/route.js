(()=>{var e={};e.id=636,e.ids=[636],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29393:(e,t,a)=>{"use strict";a.r(t),a.d(t,{patchFetch:()=>g,routeModule:()=>m,serverHooks:()=>c,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>p});var r={};a.r(r),a.d(r,{GET:()=>l});var i=a(96559),n=a(48088),s=a(37719),o=a(32190),u=a(55130);async function l(e){let{searchParams:t}=new URL(e.url),a=t.get("league_id");if(!a)return o.NextResponse.json({error:"league_id parameter is required."},{status:400});try{let e=(0,u.fetchLiveFootballFixtures)(Number(a)),t=(0,u.fetchUpcomingFootballFixtures)(Number(a)),[r,i]=await Promise.allSettled([e,t]),n="fulfilled"===r.status?r.value:[],s="fulfilled"===i.status?i.value:[],l=new Set(n.map(e=>e.id)),m=s.filter(e=>!l.has(e.id)),d=[...n,...m].sort((e,t)=>new Date(e.startingAt).getTime()-new Date(t.startingAt).getTime()).map(e=>({id:e.id,home_team:e.homeTeam.name,away_team:e.awayTeam.name,date:e.startingAt.slice(0,10),time:e.startingAt.slice(11,19),sport:e.sportKey}));return o.NextResponse.json(d)}catch(e){return o.NextResponse.json({error:"Failed to fetch league fixtures",details:e.message},{status:500})}}let m=new i.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/fixtures-by-league/route",pathname:"/api/fixtures-by-league",filename:"route",bundlePath:"app/api/fixtures-by-league/route"},resolvedPagePath:"/home/user/studio/src/app/api/fixtures-by-league/route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:d,workUnitAsyncStorage:p,serverHooks:c}=m;function g(){return(0,s.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:p})}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55130:(e,t,a)=>{"use strict";a.d(t,{m:()=>s});let r=["LIVE","HT","ET","PEN_LIVE","BREAK","INT"],i=["FT","AET","Finished","AWARDED","WO"],n=e=>{if(!e)return new Date().toISOString();let t=new Date(e.replace(" ","T")+"Z");return isNaN(t.getTime())?new Date().toISOString():t.toISOString()},s=e=>Array.isArray(e)?e.map(e=>{let t=e.participants?.find(e=>"home"===e.meta.location),a=e.participants?.find(e=>"away"===e.meta.location),s=e.state||{id:0,state:"NS",name:"Not Started",short_name:"NS",developer_name:"NOT_STARTED"},o=r.includes(s.state),u=i.includes(s.state),l=e.comments?.map(e=>({...e})).sort((e,t)=>t.minute-e.minute)||[],m=e.scores?.find(e=>e.participant_id===t?.id&&"CURRENT"===e.description)?.score.goals||0,d=e.scores?.find(e=>e.participant_id===a?.id&&"CURRENT"===e.description)?.score.goals||0,p=e.periods?.find(e=>e.ticking)?.minutes;return{id:e.id,sportKey:"football",name:e.name,startingAt:n(e.starting_at),state:s,isLive:o,isFinished:u,league:{id:e.league_id,name:e.league?.name||"N/A",countryName:e.league?.country?.name||"N/A"},homeTeam:{id:t?.id||0,name:t?.name||"Home",image_path:t?.image_path},awayTeam:{id:a?.id||0,name:a?.name||"Away",image_path:a?.image_path},odds:{},comments:l,venue:e.venue?{name:e.venue.name,city:e.venue.city_name||e.venue.city||""}:void 0,referee:e.referee?{name:e.referee.fullname}:void 0,homeScore:m,awayScore:d,minute:p,latestEvent:((e,t)=>{let a=t&&t.length>0?t[0]:null;if(a)return{text:`${a.minute}' - ${a.comment}`,isGoal:a.is_goal};let r=e&&e.length>0?[...e].sort((e,t)=>t.minute-e.minute)[0]:null;return r?{text:`${r.minute}' - ${r.type?.name||"Event"}`,isGoal:r.type?.code==="GOAL"}:o&&"Live"!==s.name?{text:s.name,isGoal:!1}:void 0})(e.events,l)}}):[]},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[4447,580],()=>a(29393));module.exports=r})();