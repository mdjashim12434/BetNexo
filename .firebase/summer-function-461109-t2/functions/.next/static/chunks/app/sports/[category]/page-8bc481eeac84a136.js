(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7417],{184:(e,s,a)=>{"use strict";a.d(s,{default:()=>L});var t=a(5155),l=a(2115),r=a(5695),n=a(6874),i=a.n(n),c=a(285),d=a(3337);let m=(0,a(157).A)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var o=a(6931),x=a(462),h=a(2543),u=a(5074),f=a(3790),p=a(1949),g=a(2523),j=a(283),N=a(7313),v=a(6126),w=a(6695),y=a(8856),b=a(7481),A=a(6766),k=a(8184),E=a(5856);let T=e=>{let{label:s,value:a}=e;return null==a||a<=0?null:(0,t.jsx)(c.$,{variant:"outline",className:"flex-1 bg-muted/50 h-auto py-1.5 px-2",children:(0,t.jsxs)("div",{className:"flex justify-between w-full text-xs",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:s}),(0,t.jsx)("span",{className:"font-bold text-foreground",children:a.toFixed(2)})]})})},M=e=>{let{match:s}=e;return(0,t.jsx)(i(),{href:"/match/".concat(s.id),passHref:!0,children:(0,t.jsxs)(w.Zp,{as:"a",className:"p-3 transition-all hover:bg-muted/50 cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs text-muted-foreground mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 truncate",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 text-primary shrink-0"}),(0,t.jsx)("span",{className:"font-semibold truncate",children:s.league.name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m,{className:"h-4 w-4"}),(0,t.jsx)(o.A,{className:"h-4 w-4"}),(0,t.jsx)(x.A,{className:"h-4 w-4"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 w-2/5 truncate",children:[(0,t.jsx)(A.default,{src:s.homeTeam.image_path||"https://placehold.co/40x40.png",alt:s.homeTeam.name,width:24,height:24,className:"rounded-full","data-ai-hint":"team logo"}),(0,t.jsx)("span",{className:"font-semibold text-sm truncate",children:s.homeTeam.name})]}),(0,t.jsxs)("div",{className:"text-xl font-bold text-center",children:[s.homeScore," : ",s.awayScore]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 w-2/5 justify-end truncate",children:[(0,t.jsx)("span",{className:"font-semibold text-sm text-right truncate",children:s.awayTeam.name}),(0,t.jsx)(A.default,{src:s.awayTeam.image_path||"https://placehold.co/40x40.png",alt:s.awayTeam.name,width:24,height:24,className:"rounded-full","data-ai-hint":"team logo"})]})]}),s.minute&&(0,t.jsxs)("p",{className:"text-center text-xs text-yellow-500 mb-3",children:[s.minute,"' - ",s.state.name]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-muted-foreground",children:"Team Wins"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(T,{label:"W1",value:s.odds.home}),(0,t.jsx)(T,{label:"W2",value:s.odds.away})]})]})]})})},S=e=>{let{match:s}=e;return(0,t.jsx)(i(),{href:"/match/".concat(s.id),passHref:!0,children:(0,t.jsxs)(w.Zp,{as:"a",className:"p-3 transition-all hover:bg-muted/50 cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs text-muted-foreground mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 truncate",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 text-primary shrink-0"}),(0,t.jsx)("span",{className:"font-semibold truncate",children:s.league.name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),(0,t.jsx)(x.A,{className:"h-4 w-4"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-2",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1 w-2/5 text-center",children:[(0,t.jsx)(A.default,{src:s.homeTeam.image_path||"https://placehold.co/40x40.png",alt:s.homeTeam.name,width:32,height:32,className:"rounded-full","data-ai-hint":"team logo"}),(0,t.jsx)("span",{className:"font-semibold text-sm truncate",children:s.homeTeam.name})]}),(0,t.jsx)("div",{className:"text-xl font-bold text-muted-foreground",children:"VS"}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1 w-2/5 text-center",children:[(0,t.jsx)(A.default,{src:s.awayTeam.image_path||"https://placehold.co/40x40.png",alt:s.awayTeam.name,width:32,height:32,className:"rounded-full","data-ai-hint":"team logo"}),(0,t.jsx)("span",{className:"font-semibold text-sm text-right truncate",children:s.awayTeam.name})]})]}),(0,t.jsx)("p",{className:"text-center text-xs text-muted-foreground mb-3",children:(0,k.GP)(new Date(s.startingAt),"dd.MM.yy hh:mm a")}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-xs font-semibold text-muted-foreground",children:"1X2"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(T,{label:"W1",value:s.odds.home}),(0,t.jsx)(T,{label:"X",value:s.odds.draw}),(0,t.jsx)(T,{label:"W2",value:s.odds.away})]})]})]})})};function L(e){let s,{categorySlug:a,categoryName:n,leagueId:d}=e,m=(0,r.useRouter)(),{user:o,loadingAuth:x}=(0,j.A)(),{toast:A}=(0,b.dj)(),[k,T]=(0,l.useState)([]),[L,C]=(0,l.useState)([]),[F,_]=(0,l.useState)(!0),[Z,W]=(0,l.useState)(null),[P,D]=(0,l.useState)(""),[q,V]=(0,l.useState)([]),[X,z]=(0,l.useState)(!1),B=()=>"upcoming"===a?"upcoming":"live",[R,G]=(0,l.useState)(B());(0,l.useEffect)(()=>{let e=B();R!==e&&G(e)},[a]),(0,l.useEffect)(()=>{!async function(){if("all-sports"===a)return _(!1);_(!0),W(null),T([]),C([]);try{let e=[],s=d?Number(d):void 0,t=s=>s.catch(s=>{let t=s instanceof Error?s.message:String(s);return console.error("Error fetching data for ".concat(a,":"),t),e.push(t),[]}),l=Promise.resolve([]),r=Promise.resolve([]);"live"===a?l=t((0,E.mZ)(s)):"upcoming"===a?r=t((0,E.eF)(s)):"football"===a&&(l=t((0,E.mZ)(s)),r=t((0,E.eF)(s)));let[n,i]=await Promise.all([l,r]),c=new Set(n.map(e=>e.id)),m=i.filter(e=>!c.has(e.id));n.sort((e,s)=>new Date(e.startingAt).getTime()-new Date(s.startingAt).getTime()),m.sort((e,s)=>new Date(e.startingAt).getTime()-new Date(s.startingAt).getTime()),T(n),C(m),e.length>0&&W(e.join("\n"))}catch(e){W(e.message||"An unknown error occurred.")}finally{_(!1)}}()},[a,d]),(0,l.useEffect)(()=>{"all-sports"===a&&(z(!0),fetch("/api/all-sports/leagues").then(e=>{if(!e.ok)throw Error("Failed to fetch leagues");return e.json()}).then(e=>{let s=(e.leagues||[]).map(e=>({id:e.id,name:e.name,sport:"football"}));s.sort((e,s)=>e.name.localeCompare(s.name)),V(s)}).catch(e=>A({title:"Error Loading Leagues",description:e.message,variant:"destructive"})).finally(()=>z(!1)))},[a,A]);let H=(0,l.useMemo)(()=>{if(d){let e=[...k,...L].find(e=>e.league&&"N/A"!==e.league.name);if(e)return e.league.name;if(q.length>0){let e=q.find(e=>String(e.id)===d);if(e)return e.name}}return n},[d,k,L,n,q]),O=(0,l.useMemo)(()=>P?q.filter(e=>e.name.toLowerCase().includes(P.toLowerCase())):q,[q,P]),U=(0,l.useMemo)(()=>{let e;if(e="live"===a?k:"upcoming"===a?L:"live"===R?k:L,!P)return e;let s=P.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(s)||e.league.name.toLowerCase().includes(s))},[k,L,P,R,a]);if((0,l.useEffect)(()=>{x||o||m.push("/login")},[o,x,m]),x)return(0,t.jsx)("div",{className:"text-center p-10",children:"Loading user session..."});let $="football"===a,I=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,t.jsxs)(c.$,{variant:"outline",onClick:()=>m.back(),className:"self-start sm:self-center",children:[(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Back"]}),(0,t.jsx)("h1",{className:"font-headline text-3xl font-bold text-center sm:text-left flex-grow",children:H})]}),(0,t.jsx)("div",{className:"flex flex-col md:flex-row gap-4 p-4 border rounded-lg bg-card",children:(0,t.jsxs)("div",{className:"relative flex-grow",children:[(0,t.jsx)(u.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,t.jsx)(g.p,{type:"search",placeholder:"all-sports"===a?"Search by League Name...":"Search by Team or League...",value:P,onChange:e=>D(e.target.value),className:"pl-10 w-full"})]})})]});return"all-sports"===a?(0,t.jsxs)("div",{className:"space-y-6",children:[I,X?(0,t.jsxs)(w.Zp,{children:[(0,t.jsx)(w.aR,{children:(0,t.jsx)(y.E,{className:"h-8 w-48"})}),(0,t.jsx)(w.Wu,{className:"space-y-3 p-4",children:[...Array(15)].map((e,s)=>(0,t.jsx)(y.E,{className:"h-10 w-full"},s))})]}):O.length>0?(0,t.jsxs)(w.Zp,{children:[(0,t.jsx)(w.aR,{children:(0,t.jsx)(w.ZB,{children:"All Available Leagues"})}),(0,t.jsx)(w.Wu,{children:(0,t.jsx)("ul",{className:"space-y-2",children:O.map(e=>(0,t.jsx)("li",{children:(0,t.jsxs)(i(),{href:"/sports/".concat(e.sport,"?leagueId=").concat(e.id),className:"flex items-center justify-between p-3 rounded-md hover:bg-muted/50 border transition-colors",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),(0,t.jsx)(v.E,{variant:"default",className:"capitalize",children:e.sport})]})},"".concat(e.sport,"-").concat(e.id)))})})]}):(0,t.jsxs)("div",{className:"text-center text-muted-foreground py-10",children:[(0,t.jsx)(f.A,{className:"mx-auto h-12 w-12 mb-4"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:"No Leagues Found"}),(0,t.jsx)("p",{className:"text-sm",children:"Could not retrieve league information at this time."})]})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[I,$&&(0,t.jsx)(N.tU,{value:R,onValueChange:G,className:"w-full",children:(0,t.jsxs)(N.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsxs)(N.Xi,{value:"live",children:["Live ",(0,t.jsx)(v.E,{variant:"destructive",className:"ml-2 animate-pulse",children:k.length})]}),(0,t.jsxs)(N.Xi,{value:"upcoming",children:["Upcoming ",(0,t.jsx)(v.E,{variant:"secondary",className:"ml-2",children:L.length})]})]})}),F?(0,t.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsxs)(w.Zp,{className:"p-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,t.jsx)(y.E,{className:"h-5 w-1/2"}),(0,t.jsx)(y.E,{className:"h-5 w-1/4"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(y.E,{className:"h-8 w-1/3"}),(0,t.jsx)(y.E,{className:"h-8 w-1/4"}),(0,t.jsx)(y.E,{className:"h-8 w-1/3"})]})]},s))}):Z?(0,t.jsxs)("div",{className:"text-center text-destructive py-10 my-4 bg-destructive/10 rounded-lg",children:[(0,t.jsx)(p.A,{className:"mx-auto h-12 w-12 mb-4"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:"Failed to load matches"}),(0,t.jsx)("p",{className:"text-sm mt-2 max-w-md mx-auto whitespace-pre-wrap",children:Z})]}):U.length>0?(()=>{let e="live"===a||"football"===a&&"live"===R;return(0,t.jsx)("div",{className:"space-y-3",children:U.map(s=>e?(0,t.jsx)(M,{match:s},"live-".concat(s.id)):(0,t.jsx)(S,{match:s},"upcoming-".concat(s.id)))})})():(s="No matches for this selection were found at this time.","live"===a&&(s="No live matches were found at this time."),"upcoming"===a&&(s="No upcoming matches were found at this time."),(0,t.jsxs)("div",{className:"text-center text-muted-foreground py-10",children:[(0,t.jsx)(f.A,{className:"mx-auto h-12 w-12 mb-4"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:"No Matches Found"}),(0,t.jsx)("p",{className:"text-sm",children:s})]}))]})}},462:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},1949:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3337:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("Goal",[["path",{d:"M12 13V2l8 4-8 4",key:"5wlwwj"}],["path",{d:"M20.561 10.222a9 9 0 1 1-12.55-5.29",key:"1c0wjv"}],["path",{d:"M8.002 9.997a5 5 0 1 0 8.9 2.02",key:"gb1g7m"}]])},3790:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])},6126:(e,s,a)=>{"use strict";a.d(s,{E:()=>i});var t=a(5155);a(2115);var l=a(2085),r=a(9434);let n=(0,l.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:a,...l}=e;return(0,t.jsx)("div",{className:(0,r.cn)(n({variant:a}),s),...l})}},6931:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},9585:(e,s,a)=>{Promise.resolve().then(a.bind(a,707)),Promise.resolve().then(a.bind(a,184))}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,3644,3139,6874,6766,3769,8178,704,53,5601,8441,1684,7358],()=>s(9585)),_N_E=e.O()}]);